{% extends 'base.html' %}

{% block title %}
{{ menu.title }}
{% endblock title %}

{% block content %}

{% include 'components/header_details.html' with title=menu.title %}

{% block styles %}
{% load static %}


<style>
    [data-hs-tab].active.hs-tab-active\:text-primary {
        --tw-text-opacity: 1;
        color: rgb(1 152 216 / var(--tw-text-opacity));
    }

    [data-hs-tab].active.hs-tab-active\:bg-white {
        --tw-bg-opacity: 1;
        background-color: rgb(255 255 255 / var(--tw-bg-opacity));
    }

    [data-hs-tab].active.hs-tab-active\:border-b-transparent {
        border-bottom-color: transparent !important;
    }

    [data-hs-tab].active.hs-tab-active\:border-primary {
        --tw-border-opacity: 1;
        border-color: rgb(1 152 216 / var(--tw-border-opacity));
    }
</style>

{% endblock styles %}





        <div class="container mx-auto my-4 text-center">
         
            <div class="grid grid-cols-0 gap-1">
                {% for manager_id, manager_data in staff_by_manager.items %}
                    <div class="box bg-gray-200 p-4 rounded ">
                        
                     
                        {% if manager_data.manager.profile_picture %}
                        
                        {% comment %} <div class="mx-auto my-1 h-24 w-24 overflow-hidden rounded-full outline outline-offset-2 outline-gray-50">
                            <img src="{% if manager_data.manager.profile_picture %} {{ manager_data.manager.profile_picture }} {% else %} {% static 'img/profile_image.png' %} {% endif %}" alt="Profile" class="w-full h-full object-cover" />
                        </div> {% endcomment %}


                        
                        <div class="relative mx-auto my-1 items-center justify-center bg-transparent" style="width:130px; height:128px">
                            
                            <div style="width:130px; height:50px" class="absolute top-0 bg-secondary flex items-center justify-center rounded-t-2xl border-2 ">
                                <!-- Content for the other half -->
                            </div>

                            <div style="width:130px; height:130px;" class="absolute inset-0 flex items-center justify-center  rounded-l-2xl">
                                <div class="mx-auto my-1 h-28 w-28 p-1  overflow-hidden rounded-2xl border-2 border-primary bg-white">
                                    <img class="w-full h-full object-cover rounded-2xl" src="{% if manager_data.manager.profile_picture %} {{ manager_data.manager.profile_picture }} {% else %} {% static 'img/profile_image.png' %} {% endif %}" alt="Profile"  />
                                </div> 
                            </div> 
                        </div>
                
                        {% endif %}
                        <h2 class="font-bold text-secondary">{{ manager_data.manager.designation }}</h2>
                        <p>{{ manager_data.manager.name }}</p>

               
                        
                        {% if manager_data.subordinates %}
                            <div class="grid grid-cols-{{ manager_data.subordinates|length }} gap-1 ml-4 items-center justify-center">
                                {% for subordinate in manager_data.subordinates %}
                                    <div class="box w-full bg-sky-50 p-4 rounded items-center justify-center">


                                        <div class="bottom-0 w-full  flex items-center justify-center">
                                            <div class="p-2 rounded-full bg-primary opacity-90 text-white text-sm">Procurement Unit</div>
                                        </div>
                                        

                                        <div class="relative mx-auto my-1 items-center justify-center bg-transparent" style="width:130px; height:128px">
                            
                                            <div style="width:130px; height:50px" class="absolute top-0 bg-secondary flex items-center justify-center rounded-t-2xl border-2 ">
                                                <!-- Content for the other half -->
                                            </div>
                
                                            <div style="width:130px; height:130px;" class="absolute inset-0 flex items-center justify-center  rounded-l-2xl">
                                                <div class="mx-auto my-1 h-28 w-28 p-1  overflow-hidden rounded-2xl border-2 border-primary bg-white">
                                                    <img class="w-full h-full object-cover rounded-2xl" src="{% if subordinate.profile_picture %} {{ subordinate.profile_picture }} {% else %} {% static 'img/profile_image.png' %} {% endif %}" alt="Profile"  />
                                                </div> 
                                            </div> 
                                        </div>


                                        <h3 class="font-bold text-secondary">{{ subordinate.designation }}</h3>
                                        <p>{{ subordinate.name }}</p>
                                        <!-- Add more levels as needed -->
                                    </div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        </div>
        
  



{% endblock content %}